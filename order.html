<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order – Trinetra Bhojanalaya</title>
    <link rel="stylesheet" href="style.css">
    <script type="module" src="firebase.js"></script>
    <script defer src="delivery.js"></script>
</head>

<body>

<header class="navbar">
    <div class="nav-left">
        <img src="images/logo.jpg" class="logo" alt="Logo">
        <span class="brand">Trinetra Bhojanalaya</span>
    </div>
    <button class="hamburger" onclick="toggleMenu()">☰</button>
</header>

<nav id="mobileMenu" class="mobile-menu">
    <a href="index.html">Home</a>
    <a href="order.html">Order Now</a>
</nav>

<section class="order-container">

    <h1>Place Your Order</h1>

    <!-- NAME -->
    <label>Your Name</label>
    <input type="text" id="custName" placeholder="Enter your name">

    <!-- ORDER ITEMS -->
    <label>Your Order</label>
    <textarea id="orderItems" placeholder="Example: 1 Chole Bhature, 1 Aloo Paratha"></textarea>

    <!-- ORDER TYPE -->
    <label>Order Type</label>
    <select id="orderType" onchange="handleOrderType()">
        <option value="delivery">Online Delivery</option>
        <option value="takeaway">Takeaway</option>
    </select>

    <!-- DELIVERY ADDRESS FIELD -->
    <div id="addressSection">
        <label>Delivery Address (optional)</label>
        <input type="text" id="deliveryAddress" placeholder="House No, Area">
    </div>

    <!-- GPS BUTTON -->
    <button id="gpsBtn" class="btn-primary" onclick="getGPS()">Use Current Location</button>

    <p id="gpsStatus"></p>

    <!-- CALCULATED MESSAGE -->
    <div id="deliveryNote"></div>

    <!-- WhatsApp BUTTON -->
    <button class="btn-secondary" onclick="sendToWhatsApp()">Order on WhatsApp</button>

</section>

<footer>© 2025 Trinetra Bhojanalaya</footer>

<script>
function toggleMenu() {
    document.getElementById("mobileMenu").classList.toggle("show");
}
function handleOrderType() {
    let type = document.getElementById("orderType").value;
    document.getElementById("addressSection").style.display =
        type === "takeaway" ? "none" : "block";
    document.getElementById("gpsBtn").style.display =
        type === "takeaway" ? "none" : "block";
}
</script>

</body>
</html>
